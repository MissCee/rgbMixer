<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>Highcharts Data loaded from a csv file using highcharts data module</title>
    <style>
        body{
            margin-top: 30px;
            margin-left:40px;
        }
    </style>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="http://code.highcharts.com/highcharts.js"></script>
    <script src="http://code.highcharts.com/modules/data.js"></script>

</head>
<body>
<div id="container" style="height:4000px" ></div>
<script type="text/javascript">

    $(function () {

        $.get('who-life-expectancy-by-country.csv', function(data) {


            $('#container').highcharts({

                chart: {
                    //Change the chart Type
                    type: "bar",
                    style: {
                        //Set the font family and color
                        fontFamily: 'verdana',
                        color: "#f00"
                    }

                },
                legend: {
                    //disables the klickable legend button
                    enabled: false
                },

                title: {
                    //Title change and alignment
                    text: "Life expectancy at birth 2015" ,
                    align: 'left',
                    style: {
                        color: "blue",
                        font: 'bold 30px "Trebuchet MS", Verdana, sans-serif'
                    }
                },

                xAxis: {
                    categories: [],
                    labels: {
                        style: {
                            //Settings for the legend od xAxis
                            color: 'black',
                            fontSize:'15px',
                            font: 'bold 15px "Trebuchet MS", Verdana, sans-serif'

                        }
                    }
                },
                yAxis: {

                    min: 0,
                    max: 90,
                    tickInterval: 20,
                    endOnTick:false,
                    labels: {
                        style: {
                            //Settings for the legend od xAxis
                            color: 'black',
                            fontSize:'20px',
                            font: 'bold 15px "Trebuchet MS", Verdana, sans-serif'
                        }
                    },
                    title: {
                        text: "Years"

                    }
                },


                data: {
                    csv: data
                    //csv: document.getElementById('csv').innerHTML
                },
                plotOptions: {
                    series: {
                        marker: {
                            enabled: false

                        }
                    }
                }


            });
        });

    });
    Highcharts.setOptions({
        colors:['#C4ABFE']
    });
</script>
</body>
</html>
